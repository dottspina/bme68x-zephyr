# Copyright (c) 2024, Chris Duf
#
# SPDX-License-Identifier: Apache-2.0

# Bluetooth LE Peripheral role.
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
# Name can be up to 248 bytes long (excluding NULL termination).
# Can be empty string.
# See also CONFIG_BT_DEVICE_NAME_MAX.
CONFIG_BT_DEVICE_NAME="ESP Sensor (BME68X)"
# Bluetooth device appearance (Assigned_Numbers ยง2.6.2/ยง2.6.3)
# 0x0543: Temperature sensor
CONFIG_BT_DEVICE_APPEARANCE=1347

# Enable multiple connected centrals.
CONFIG_BT_MAX_CONN=2
# Automatically resume advertising.
CONFIG_BME68X_ESP_GAP_ADV_AUTO=y

# HCI error codes represented as strings.
# See bt_hci_err_to_str() for more details.
#CONFIG_BT_HCI_ERR_TO_STR=y

# Security Manager Protocol (SMP), required to pair devices over LE.
#CONFIG_BT_SMP=y
# Enable Bluetooth Settings (SMP somewhat broken without persistence)
# Note: enabling CONFIG_BT_SETTINGS without CONFIG_BT_SMP
#       cause set-value errors on boot:
#       settings: set-value failure. key: bt/hash error(-2)
#CONFIG_BT_SETTINGS=y
# Delete oldest key when pairing attempt occurs and the key storage is full.
#CONFIG_BT_KEYS_OVERWRITE_OLDEST=y

# Enable privacy for the local device.
# This makes the device use Resolvable Private Addresses (RPAs) by default.
#CONFIG_BT_PRIVACY=y

# Enabling authenticated connections with the default system workqueue
# stack size causes hard MPU FAULT Stack overflow.
#CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Global Settings subsystem configuration with NVS backend.
#CONFIG_SETTINGS=y
#CONFIG_NVS=y
#CONFIG_FLASH=y
#CONFIG_FLASH_MAP=y
#CONFIG_SETTINGS_NVS=y

# Export threads information for debugger RTOS plugins.
# Supported by https://pyocd.io/docs/gdbserver.html
#CONFIG_DEBUG_THREAD_INFO=y
